# LineageOS Build Scripts for fajita

This is a suite of scripts for building LineageOS for the OnePlus 6T (fajita) with a signed AVB. This is tailored to my
specific use case and as such is not designed for general use, but I'm publishing it in the hope that it will maybe help
somebody.

This suite does the following:

- Fetches the `repo` utility
- Fetches/syncs the LineageOS repository
- Generates signing keys
- Fetches MindTheGapps
- Downloads OxygenOS and LineageOS ROMs and extracts blobs from them
- Applies required build configuration patches
- Compiles LineageOS
- Signs the generated APKs
- Builds an OTA package
- Generates a `pkmd.bin` file to flash to the bootloader

These steps are each performed in their own respective script. The master `build_lineage.sh` script will execute each
build step in order. The master script checks the environment variables `NO_REPO_SYNC` and `NO_EXTRACT_BLOBS` to
determine if the respective steps should be skipped (useful for testing). All scripts (including the master script)
accept an optional positional argument specifying the path to use as a workspace, defaulting to `$PWD/lineage_workspace`
if it is not provided.

## Dependencies

- Standard Android/LineageOS build requirements (including `android-tools` and `libncurses5`)
- Python 2 (for the Android toolchain)
- Python 3 (for a utility script provided by this repo)

## Disclaimer

I am not responsible for any particular outcome of running this suite or anything generated by it including voided
warranties, bricked devices, and/or zombie apocolypse. Proceed with caution.

## License

The scripts in this repository are published under the MIT License.
